<html>

<head>
<style type="text/css">
        html {
            background: url(../imgs/background1.png) no-repeat center center fixed;
            -webkit-background-size: cover;
            -moz-background-size: cover;
            -o-background-size: cover;
            background-size: cover;
        
        }
    </style>
</head>

<body>


    <div style="width: 1200px; height: 500px; margin: auto;margin-top:80px">
        <div>
            <label style="font-weight: bold;color: #03345f; font-size: 30px;border-bottom: rgba(101, 69, 69, 0.51) solid 2px;">Conditional expressions</label>
            <input type="text" style="display: none;" name="randomDigits" id="randomDigits" required="" autofocus="" value="1">
            <input type="button" style="border-radius: 30px;" value="GEN" onclick="randomDigitsOnclick()">
            <br>
            <br>
        </div>

        <div id="examPane" style="display: none;">
            <div style="float: left; width: 40%;">
                <p style="font-size: 16pt; font-weight: bold; color: #0055BB;">
                    <label style="color: green">Solve</label>&nbsp; &nbsp;
                    <label>U</label> *
                    <label id="subject_number1_p"></label> =Y
                    <label>if Y=</label>
                    <label id="subject_number2_p"></label>
                </p>
                <br>
                <button onclick="startAnswer();" style="border-radius: 30px;">Start Answer</button>
            </div>

        </div>

    </div>
    <div id="examPane1" style="display: none;">
        <div id="step1" style="display: none;">
        <p style="margin-left: 238px;margin-top: -259px;font-weight: bold;color: #03345f; font-size: 16px;">Step1:Rewrite the expression with all known expressions, replace all that is known &nbsp;</p><br><br>
        <input class="step1" name="continue1" id="value1" style="margin-top: -34px;margin-left: 453px;" type="text" value="">
        </div>
        <div id="step2" style="display: none;">
        <p style="margin-left: 238px;font-weight: bold;color: #03345f; font-size: 16px;">Step2: Isolate the unknown &nbsp;</p><br><br>
        <input  class="step2" name="continue1" id="value2" style="margin-top: -34px;margin-left: 453px;" type="text" value="">
        </div>
        <div  id="step3" style="display: none;">
        <p style="margin-left: 238px;font-weight: bold;color: #03345f; font-size: 16px;">Step3:Solve the equation &nbsp;</p><br><br>
        <input class="step3" name="continue1" id="value3" style="margin-top: -42px;margin-left: 453px;" type="text" value="">
        </div>
        <!-- <span><button onclick="startContinue();" style="margin-top: -42px;"> continue</button></span> -->
    </div>
    <div id="error" style="display: none;margin-left: 620px;margin-top: -495px;">
        <h1 style="margin-left: 235px;">Answered Flow</h1>
        <label style="margin-left: 150px;font-weight: bold;color: #03345f; font-size: 16px;">step1</label>
        <label style="margin-left: 36px;font-weight: bold;color: #03345f; font-size: 16px;">Rewrite the expression with all <br> 
        <label style="margin-left: 150px;font-weight: bold;color: #03345f; font-size: 16px;">known expressions,replace all that is known</label></label><br>
        <label id = "step1Error" style="margin-left: 150px;display: none;color: red;">error step1: you are wrong!</label>
        <p style="font-size: 16pt; font-weight: bold; color: #0055BB;">
            <label style="margin-left: 220px">U</label>*
            <label id="subject_number12_p"></label> =
            <label id="subject_number11_p"></label>
        </p>
        <br>
        <label style="margin-left: 235px;font-weight: bold;color: #03345f; font-size: 16px;">step2</label>
        <label style="margin-left: 36px;font-weight: bold;color: #03345f; font-size: 16px;">Isolate the unknown </label><br>
         <label id = "step2Error" style="margin-left: 235px;display: none;color: red;">error step2: you are wrong!</label>
        <p style="font-size: 16pt; font-weight: bold; color: #0055BB;">
            <label style="margin-left: 307px">U</label> =
            <label id="subject_number32_p"></label>/
            <label id="subject_number31_p"></label>
            </label>
        </p>
        <br>
        <label style="margin-left: 235px;font-weight: bold;color: #03345f; font-size: 16px;">step3</label>
        <label style="margin-left: 36px;font-weight: bold;color: #03345f; font-size: 16px;">Answer</label><br>
         <label id = "step3Error" style="margin-left: 235px;display: none;color: red;">error step3: you are wrong!</label>
        <p style="font-size: 16pt; font-weight: bold; color: #0055BB;">
            <label style="margin-left: 307px">U</label> =
            <label id="subject_number33_p"></label>
        </p>
        <br>
    </div>

    <div id="Congratlations" style="display: none;margin-left: 280px">
        <h1 style="margin-left: 990px;margin-top: -460px;">Correct Answer</h1>
        <label style="margin-left: 500px;font-weight: bold;color: #03345f; font-size: 16px;">step1</label>
        <label style="margin-left: 36px;font-weight: bold;color: #03345f; font-size: 16px;">Rewrite the expression with all <br> 
        <label style="margin-left: 500px;font-weight: bold;color: #03345f; font-size: 16px;">known expressions,replace all that is known</label></label>
        <p style="font-size: 16pt; font-weight: bold; color: #0055BB;">
            <label style="margin-left: 550px">U</label>*
            <label id="subject_number12_pc"></label> =
            <label id="subject_number11_pc"></label>
        </p>
        <br>
        <label style="margin-left: 935px;font-weight: bold;color: #03345f; font-size: 16px;">step2</label>
        <label style="margin-left: 36px;font-weight: bold;color: #03345f; font-size: 16px;">Isolate the unknown </label>
        <p style="font-size: 16pt; font-weight: bold; color: #0055BB;">
            <label style="margin-left: 985px">U</label> =
            <label id="subject_number32_pc"></label>/
            <label id="subject_number31_pc"></label>
            </label>
        </p>
        <br>
        <label style="margin-left: 935px;font-weight: bold;color: #03345f; font-size: 16px;">step3</label>
        <label style="margin-left: 36px;font-weight: bold;color: #03345f; font-size: 16px;">Answer</label>
        <p style="font-size: 16pt; font-weight: bold; color: #0055BB;">
            <label style="margin-left: 985px">U</label> =
            <label id="subject_number33_pc"></label>
        </p>
        <br>
    </div>

    <link href="../css/w3.css" rel="stylesheet">
    <script src="../js/jquery.js"></script>
    <script type="text/javascript">
        var randomNumber1 = "";
        var randomNumber = "";
        var randomNumber2 = "";
        var randomDigits = "";
        var max_t = 0;
        var min_t = 0;
        var input1 = null;
        var input2 = null;

        var step_count = 0;
       
        var max_digit = 0;
        var carry_over = false;
        var carry_elem;
        var carr_over_var = [];
        var carr_over_var2 = [];

        var retry_attempt = 0;

        function digits(digits) {
            a = 1;
            for (var i = 0; i < digits; i++) {
                a *= 10;
            }
            return a;
        }


        function randomDigitsOnclick() {
            carry_over = false;
            randomDigits = $("#randomDigits").prop("value");
            randomDigits = parseInt(randomDigits);
            if (isNaN(randomDigits)) randomDigits = 1;
            if (randomDigits > 7) randomDigits = 7;
            $("#randomDigits").prop("value", randomDigits);
            max_t = digits(randomDigits);
            console.log(max_t);
            
            randomNumber = Math.floor(Math.random() * max_t);   
            if(randomNumber==0){
                randomNumber1=randomNumber+1;
            }else
             randomNumber1=randomNumber;

            randomNumber2 = Math.floor(Math.random() * max_t);
            $("#randomNumber2").prop("value", randomNumber2);
            $("#subject_number1_p").html(randomNumber1);
            $("#subject_number2_p").html(randomNumber2);
            $("#answerPane").html('<div id="lastDiv"></div>');
            $("#examPane").show();
            $("#lastDiv2").html("");

            $("#value1").prop("value", input1);
            $("#value2").prop("value", input2);

            $("#Congratlations").hide();
            $("#error").hide();
            $("#examPane1").hide();
            $("#examPane2").hide();
            $("#value3").val("");
            $("#step1Error").hide();
            $("#step2Error").hide();
            $("#step3Error").hide();
            $("#step1").hide();
            $("#step2").hide();
            $("#step3").hide();

        }


        function startAnswer() {
            $("#step1").show();
            $("#examPane1").show();
        }

        var aa = document.getElementById("value1");
        var b = document.getElementById("value2");
        var c = document.getElementById("value3");
        $(".step1").keydown(function(event){
            if(event.keyCode == 13){ 
                if (aa.value != false) {
                    $("#step2").show();
                }else{ 
                alert("Input the answer");
                    $("#step2").hide();
                }
            }
        }).focus();

        $(".step2").keydown(function(event){
            if(event.keyCode == 13){
                if (b.value != false) {
                    $("#step3").show();
                }else{ 
                alert("Input the answer");
                    $("#step3").hide();
                }
            }
        }).focus();
        $(".step3").keydown(function(event){
            if(event.keyCode == 13){
                if (c.value != false) {
                    $("#Congratlations").show();
                    $("#error").show();
                    var randomNumber22 = randomNumber2+"/"+randomNumber1;
                    $("#subject_number11_p").html(randomNumber2);
                    $("#subject_number12_p").html(randomNumber1);
                    $("#subject_number31_p").html(randomNumber1);
                    $("#subject_number32_p").html(randomNumber2);
                    $("#subject_number22_p").html(randomNumber22);
                    $("#subject_number33_p").html(randomNumber22);
                    $("#subject_number11_pc").html(randomNumber2);
                    $("#subject_number12_pc").html(randomNumber1);
                    $("#subject_number31_pc").html(randomNumber1);
                    $("#subject_number32_pc").html(randomNumber2);
                    $("#subject_number22_pc").html(randomNumber22);
                    $("#subject_number33_pc").html(randomNumber22);
                   
                    if (aa.value !="U"+"*"+randomNumber1+"="+randomNumber2) {
                        $("#step1Error").show();
                    }
                    if(b.value !="U"+"="+randomNumber2+"/"+randomNumber1 ){
                        $("#step2Error").show();
                    }
                    if(c.value !="U"+"="+randomNumber2+"/"+randomNumber1 ){
                        $("#step3Error").show();
                    }
                }else{
                    alert("Input the answer!");
                    $("#Congratlations").hide();
                    $("#error").hide();
                }
            }
        }).focus();
    </script>
</body>

</html>